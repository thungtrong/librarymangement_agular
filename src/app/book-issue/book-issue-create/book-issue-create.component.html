<div id="content" class="col-6 offset-3">
    <h3>Tạo mới</h3>
    <form (ngSubmit)="onSubmit()">
        <div class="row">
            <div class="col">
                <label for="lastName" class="sr-only"></label>
                <input disabled [(ngModel)]="selectedMember.lastName" type="text" class="form-control" id="lastName"
                    name="lastName" placeholder="Nhập họ thành viên" #lastName>
            </div>
            <div class="col">
                <label for="firstName" class="sr-only"></label>
                <input disabled [(ngModel)]="selectedMember.firstName" type="text" class="form-control" id="firstName"
                    name="firstName" placeholder="Nhập tên thành viên" #firstName>
            </div>

            <button class="btn btn-primary col-1" type="button" id="change-member" (click)="toggleMemberDialog()">
                <i class="fa fa-repeat" aria-hidden="true"></i>
            </button>
        </div>
        <app-member-picker (selectEvent)="receiveMember($event)"></app-member-picker>


        <div class="form-group row mt-4 mb-4">
            <label class="col-3" for="dateStart">Ngày mượn:</label>
            <input [(ngModel)]="bookIssue.dateStart" class="form-control col" type="date" id="dateStart"
                name="dateStart">
        </div>

        <div class="form-group row mt-4">
            <label class="col-3" for="dateEnd">Ngày trả:</label>
            <input [(ngModel)]="bookIssue.dateEnd" class="form-control col" type="date" id="dateEnd" name="dateEnd">
        </div>

        <div class="form-group">
            <label for="status"></label>
            <select [(ngModel)]="bookIssue.status" name="status" id="status" class="form-control" required>
                <option value="false">Chưa hoàn thành</option>
                <option value="true">Đã hoàn thành</option>
            </select>
        </div>

        <div class="form-group">
            <label class="" for="note"></label>
            <textarea rows="3" [(ngModel)]="bookIssue.note" class="form-control col" type="date" id="note" name="note"
                placeholder="Nhập ghi chú"></textarea>
        </div>

        <div id="selected-book-container" class="mt-4">
            <div class="d-flex justify-content-between">
                <span>
                    <h4>Danh sách sách mượn:</h4>
                </span>
                <button class="btn btn-primary col-1" type="button" id="change-member" (click)="toggleBookDialog()">
                    <i class="fa fa-repeat" aria-hidden="true"></i>
                </button>
            </div>

            <table id="table-selected-book" class="w-100">
                <colgroup>
                    <col>
                    <col>
                    <col style="width: 5vw">
                </colgroup>
                <tr class="border-bottom">
                    <th>Tên sách</th>
                    <th>Tác giả</th>
                    <th></th>
                </tr>

                <tr *ngFor="let book of selectedBooks">
                    <td>{{ book.title }}</td>
                    <td>{{ book.authors }}</td>
                    <td>
                        <button class="btn btn-danger" type="button" id="change-member">
                            <i class="fa fa-trash-o" aria-hidden="true"></i>
                        </button>
                    </td>
                </tr>
            </table>
        </div>
        <app-book-picker (selectEvent)="receiveBook($event)"></app-book-picker>


        <div class="form-group d-flex justify-content-end m-2">
            <button class="btn btn-primary" type="submit" id="submit">
                <i class="fa fa-floppy-o" aria-hidden="true"></i>
                Tạo</button>
            <a (click)="goBack()" class="btn btn-default">
                <i class="fa fa-arrow-left" aria-hidden="true"></i> Quay Lại
            </a>
        </div>
    </form>
</div>